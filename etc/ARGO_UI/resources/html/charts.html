<!DOCTYPE html>
<html  xmlns:e="http://software.in2p3.fr/lavoisier/entries.xsd" xmlns:tpl="http://software.in2p3.fr/lavoisier/template.xsd" tpl:extends="/lavoisier?accept=html" >

<body>
<!-- Right side column. Contains the navbar and content of the page -->
<div id="wrapper">

<aside class="right-side" id="right-side">
    <!-- Content Header (Page header) -->
    <section class="content-header" id="content-header">
        <h1>
            Availabilities Reliabilities Reports
            <small>League Report</small>
        </h1>

    </section>

    <!-- Main content -->
    <section class="content" id="content">



        <div  class="box box-primary">

            <div class="box-header">
                        <h3 class="box-title">Chart  <a tpl:foreach="/chart" onclick="change_url('render_chart','{{@view}}')" title="Table report">
                            <span style="margin:10px" class="btn btn-primary">Back to the table</span>

                            </a>
                         </h3>
            </div>




        <div class="hidden" id="size" tpl:foreach="/chart">{{count(series)}}</div>
         <div class="hidden" id="title" tpl:foreach="/chart">{{@title}}</div>




            <div tpl:if="count(/chart/series/data/point)=0">
                <div class="box-footer">
                    <h3 class="box-title">
                        <i class="fa fa-exclamation-circle"></i> No fetch Data</h3>
                </div>
            </div>
         <div tpl:else="count(/chart/series/data)&gt;60">
             <div class="box-footer">
             <h3 class="box-title ">
                 <i class="fa fa-exclamation-circle"></i> Too large range of data </h3>
         </div>
         </div>
            <div tpl:else="">
                <div class="box" id="wait" style="height:400px">
                    <div class="loading-img"></div>
                </div>
                <div id="container"  class="container-fluid" style="display:none"/>

            </div>



</div>




    </section><!-- /.content -->

</aside><!-- /.right-side -->


    <script src="/resource/ARGO_UI/resources/js/highcharts.js"></script>
    <script src="/resource/ARGO_UI/resources/js/heatmap.js"></script>
    <script src="/resource/ARGO_UI/resources/js/exporting.js"></script>





    <script type="text/javascript">




                $(function () {


                    var xmlUrl =  document.location.href + '&amp;accept=xml&amp;chart=true' ;

                   var titleChart="Chart " + $("#title").text();


                    getHeatMapChart(xmlUrl,titleChart  ,"container");

                    var sizechart=$("#size").text()*35+100;
                    $("#container").height(sizechart);


                });

                $(window).load(function(){
                    $("#wait").fadeOut(700);
                    $("#container").fadeIn(800);
                });


        </script>


</div>
</body>
</html>